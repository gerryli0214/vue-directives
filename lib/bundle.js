!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],t):(e=e||self).main=t(e.lodash)}(this,function(f){"use strict";function s(e){return"[object Function]"===Object.prototype.toString.call(e)}var e,t,n={},d={},r=(e="click,dblclick,keyup,keydown,keypress,mouseup,mousedown,mouseover,mouseleave,scroll".split(","),t={},e.forEach(function(e){t[e]=!0}),function(){return t[arguments[0]]});function i(t){var e,n={fun:"",event:"click",args:"",wait:200,modifiers:{}},o=Object.keys(t.modifiers).filter(function(e){return t.modifiers[e]});if(n.modifiers=t.modifiers,0<o.length){var i=o.filter(function(e){return r(e)});n.event=0===i.length?"click":o[0]}return e=t.value,"[object Object]"===Object.prototype.toString.call(e)?Object.assign(n,t.value):s(t.value)&&(n.fun=t.expression),n}function c(e,t,n){var o=d.fun,i=d.event,r=d.args,c=d.wait,l=d.modifiers;if(s(t[o]))if("debounce"===n){var u={leading:!1,trailing:!0};l.before&&(u={leading:!0,trailing:!1}),l.all&&(u={leading:!0,trailing:!0}),e["on".concat(i)]=f.debounce(a,c,u)}else"throttle"===n&&(e["on".concat(i)]=f.throttle(a,c));else console.warn("方法名【".concat(o,"】在组件中未定义"));function a(e){l.stop&&e.stopPropagation(),l.prev&&e.preventDefault(),t[o].call(null,e,r)}}return n.install=function(e){e.directive("debounce",{bind:function(e,t,n){var o=i(t);d=o,c(e,n.context,"debounce")},update:function(e,t,n){var o=i(t);d=o,c(e,n.context,"debounce")}}),e.directive("throttle",{bind:function(e,t,n){var o=i(t);d=o,c(e,n.context,"throttle")},update:function(e,t,n){var o=i(t);d=o,c(e,n.context,"throttle")}})},n});
